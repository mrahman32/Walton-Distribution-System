@model WDS.DAL.WdsEntities.User
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Login</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--===============================================================================================-->
    <link rel="icon" type="image/png" href="~/Content/images/favicon.ico" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">*@
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">*@
    <link href="~/Content/font-awesome.min.css" rel="stylesheet" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">*@
    <link href="~/Content/animate.css" rel="stylesheet" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">*@
    <link href="~/Content/hamburgers.min.css" rel="stylesheet" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">*@
    <link href="~/Content/animsition.min.css" rel="stylesheet" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">*@
    <link href="~/Content/select2.min.css" rel="stylesheet" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">*@
    <link href="~/Content/daterangepicker.css" rel="stylesheet" />
    <!--===============================================================================================-->
    @*<link rel="stylesheet" type="text/css" href="css/util.css">*@
    <link href="~/Content/util.css" rel="stylesheet" />
    @*<link rel="stylesheet" type="text/css" href="css/main.css">*@
    <link href="~/Content/main.css" rel="stylesheet" />
    <!--===============================================================================================-->
</head>
<body>

    <div class="limiter">
        <div class="container-login100">
            <div class="wrap-login100">
                @using (Html.BeginForm("Login", "Auth", FormMethod.Post, new { @id = "", @class = "login100-form validate-form p-l-55 p-r-55 p-t-178" }))
                {
                    string companyName = "";
                    string imageSource = "";
                    if (Session["company"] != null)
                    {
                        companyName = Session["company"] as string;
                    }
                    else if (TempData["comName"] != null)
                    {
                        companyName = TempData["comName"] as string;
                    }

                    string fullName = "";
                    if (companyName.ToLower().Equals("walton"))
                    {
                        fullName = "Walton Distribution System";
                        imageSource = @"~/Content/images/Walton_Mobile_logo.png";
                    }
                    else if (companyName.ToLower().Equals("marcel"))
                    {
                        fullName = "Marcel Distribution System";
                        imageSource = @"~/Content/images/Marcel_New_Logo.png";
                    }
                    <span class="login100-form-title">
                        @fullName
                    </span>

                    <div class="text-center">
                        @if (TempData["message"] != null)
                        {
                            var msgType = TempData["mType"];
                            var msg = TempData["message"];
                            if ((int)msgType == 1)
                            {
                                TempData["message"] = null;
                                TempData["mType"] = 0;
                                <div class="alert alert-success alert-dismissible fade show" role="alert">
                                    @msg
                                    <a href="#" class="close" data-dismiss="alert" aria-label="Close">

                                    </a>
                                </div>

                            }
                            else if ((int)msgType == 2)
                            {
                                TempData["message"] = null;
                                TempData["mType"] = 0;
                                @*<div class="alert alert-danger alert-dismissible fade show" role="alert">
                                        @msg
                                        <a href="#" class="close" data-dismiss="alert" aria-label="Close">

                                        </a>
                                    </div>*@
                                <span style="color: orangered; font-family: sans-serif" class="text-center">@msg</span><br />

                            }
                            else if ((int)msgType == 3)
                            {
                                TempData["message"] = null;
                                TempData["mType"] = 0;
                                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                    @msg
                                    <a href="#" class="close" data-dismiss="alert" aria-label="Close">
                                        @*<span aria-hidden="true">×</span>*@
                                    </a>
                                </div>
                            }
                        }
                    </div>
                    <br />


                    <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter username">
                        <input class="input100" type="text" name="UserName" placeholder="Username" id="UserName">
                        <span class="focus-input100"></span>
                    </div>

                    <div class="wrap-input100 validate-input" data-validate="Please enter password">
                        <input class="input100" type="password" name="Password" placeholder="Password" id="Password">
                        <span class="focus-input100"></span>
                    </div>

                    <div class="text-right p-t-13 p-b-23">
                        @*<span class="txt1">
                                Forgot
                            </span>

                            <a href="#" class="txt2">
                                Username / Password?
                            </a>*@
                    </div>

                    <div class="container-login100-form-btn">
                        @*<button class="login100-form-btn">
                                Sign in
                            </button>*@
                        <input type="submit" class="login100-form-btn" name="Log In" />
                    </div>

                    <div class="flex-col-c p-t-170 p-b-40">
                        @*<span class="txt1 p-b-9">
                                Don’t have an account?
                            </span>

                            <a href="#" class="txt3">
                                Sign up now
                            </a>*@
                        @*<img src="~/Content/images/Walton_Mobile_logo.png" />*@
                        <img src="@Url.Content(imageSource)" style="max-height: 100px" />
                    </div>
                }


                @*<form class="login100-form validate-form p-l-55 p-r-55 p-t-178">

                    </form>*@
            </div>
        </div>
    </div>


    <!--===============================================================================================-->
    @*<script src="vendor/jquery/jquery-3.2.1.min.js"></script>*@
    <script src="~/Scripts/jquery-3.2.1.min.js"></script>
    <!--===============================================================================================-->
    @*<script src="vendor/animsition/js/animsition.min.js"></script>*@
    <script src="~/Scripts/animsition.min.js"></script>
    <!--===============================================================================================-->
    @*<script src="vendor/bootstrap/js/popper.js"></script>*@
    <script src="~/Scripts/popper.js"></script>
    @*<script src="vendor/bootstrap/js/bootstrap.min.js"></script>*@
    @*<script src="~/Scripts/bootstrap.min.js"></script>*@
    <!--===============================================================================================-->
    @*<script src="vendor/select2/select2.min.js"></script>*@
    <script src="~/Scripts/select2.min.js"></script>
    <!--===============================================================================================-->
    @*<script src="vendor/daterangepicker/moment.min.js"></script>*@
    @*<script src="~/Scripts/moment.min.js"></script>*@
    @*<script src="vendor/daterangepicker/daterangepicker.js"></script>*@
    <script src="~/Scripts/daterangepicker.js"></script>
    <!--===============================================================================================-->
    @*<script src="vendor/countdowntime/countdowntime.js"></script>*@
    <script src="~/Scripts/countdowntime.js"></script>
    <!--===============================================================================================-->
    @*<script src="js/main.js"></script>*@
    <script src="~/Scripts/main.js"></script>

</body>
</html>
<script type="text/javascript">
    window.onload = function () {
        var agent = navigator.userAgent.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);
        //alert('Browser: ' + agent[1] + ', Version: ' + parseInt(agent[2]));
        
        if (agent[1] == "Chrome") {
            if (parseInt(agent[2]) < 100) {
                $('input').prop('disabled', true);
                $('button').prop('disabled', true);
                alert('ATTENTION!!! YOU ARE USING A BACKDATED CHROME (VERSION: ' + agent[2] + ')!! RECOMMENDED BROWSER IS LATEST VERSION OF CHROME, ELSE USE FIREFOX VERSION 86 OR ABOVE. DATA LOSS MAY OCCUR IF ANY OTHER BROWSER USED INSTEAD!!!');
            }
            $('h4').prop('hidden', false);
        } else {
            $('input').prop('disabled', true);
            $('button').prop('disabled', true);
            alert('ATTENTION!!! RECOMMENDED BROWSER IS LATEST VERSION OF CHROME. DATA LOSS MAY OCCUR IF ANY OTHER BROWSER USED INSTEAD!!!');
        }


















        //var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;

        //// Firefox 1.0+
        //var isFirefox = typeof InstallTrigger !== 'undefined';
        //var isCometBird = navigator.userAgent.match(/CometBird/g);
        //// Safari 3.0+ "[object HTMLElementConstructor]"
        //var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || safari.pushNotification);

        //// Internet Explorer 6-11
        //var isIE = false || !!document.documentMode;

        //// Edge 20+
        //var isEdge = !isIE && !!window.StyleMedia;

        //// Chrome 1+
        //var isChrome = !!window.chrome && !!window.chrome.webstore;

        //console.log("isOpera :" + isOpera);
        //console.log("isFirefox :" + isFirefox);
        //console.log("isSafari :" + isSafari);
        //console.log("isIE  :" + isIE);
        //console.log("isEdge :" + isEdge);
        //console.log("isChrome :" + isChrome);


        //debugger;
        //if (isOpera == true || isSafari == true || isIE == true || isEdge == true || isCometBird == true || isFirefox == true) {

        //    document.getElementById("UserName").disabled = true;
        //    document.getElementById("Password").disabled = true;
        //    // document.getElementById("btnSubmit").disabled = true;
        //    alert('Please use latest version of Google Chrome for Login');
        //    //alertify.dialog('alert').set({
        //    //    'title': '   ',
        //    //    'transition': 'zoom',
        //    //    'message': "Only Google Chrome Browser is supported."
        //    //}).show();

        //}


        //var output = 'Detecting browsers by ducktyping:<hr>';
        //output += 'isFirefox: ' + isFirefox + '<br>';
        //output += 'isChrome: ' + isChrome + '<br>';
        //output += 'isSafari: ' + isSafari + '<br>';
        //output += 'isOpera: ' + isOpera + '<br>';
        //output += 'isIE: ' + isIE + '<br>';
        //output += 'isEdge: ' + isEdge + '<br>';
        //document.body.innerHTML = output;


    };

</script>